# ============================================================
# Messenger App - Environment Variables
# Copy this file to .env and fill in your values
# ============================================================

# ── Database ──────────────────────────────────────────────
DB_HOST=postgres
DB_PORT=5432
DB_NAME=messenger
DB_USER=postgres
DB_PASSWORD=postgres_secret   # Change in production!

# ── Redis ─────────────────────────────────────────────────
REDIS_HOST=redis
REDIS_PORT=6379
# REDIS_PASSWORD=             # Uncomment if Redis requires auth

# ── JWT ───────────────────────────────────────────────────
# REQUIRED: Use a long random string (32+ chars) in production
# Generate with: openssl rand -base64 48
JWT_SECRET=change-me-in-production-use-long-random-string
JWT_EXPIRES_IN=15m            # Access token lifetime

# ── CORS & URLs ───────────────────────────────────────────
CORS_ORIGIN=http://localhost:3000
FRONTEND_URL=http://localhost:3000
API_BASE_URL=http://localhost:3001

# ── MinIO / S3 File Storage ───────────────────────────────
# MinIO (for local dev) - runs at http://localhost:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# For AWS S3, comment out S3_ENDPOINT and set real credentials:
S3_ENDPOINT=http://minio:9000   # Remove this for real S3
S3_BUCKET=messenger-uploads
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=minioadmin    # Replace with real AWS key for production
AWS_SECRET_ACCESS_KEY=minioadmin # Replace with real AWS secret for production

# ── Translation Provider (optional) ───────────────────────
# Set to 'none' to use stub (messages won't be translated)
# Set to 'google' and add GOOGLE_TRANSLATE_API_KEY for Google Cloud Translate
# Set to 'deepl' and add DEEPL_API_KEY for DeepL
TRANSLATION_PROVIDER=none
# GOOGLE_TRANSLATE_API_KEY=your-key-here
# DEEPL_API_KEY=your-key-here

# ── Moderation Provider (optional) ────────────────────────
# Set to 'none' to use built-in pattern matching stub
# Set to 'openai' and add OPENAI_API_KEY for OpenAI Moderation API
MODERATION_PROVIDER=none
# OPENAI_API_KEY=sk-...

# ── Google OAuth (optional) ───────────────────────────────
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Add authorized redirect URI: http://localhost:3001/api/auth/google/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ── Logging ───────────────────────────────────────────────
LOG_LEVEL=info   # debug | info | warn | error

# ── App ───────────────────────────────────────────────────
PORT=3001
NODE_ENV=development
